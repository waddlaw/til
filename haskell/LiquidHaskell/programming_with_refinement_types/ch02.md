# Logic & SMT
リファインメント型を手短に説明するとこんな感じです。

> リファインメント型 = 型 + 論理的述語

このチュートリアルの残りで "論理的述語" について素早く確認することから始めましょう[1]。チュートリアルの構成としては、*構文*の説明から始め、述語がどのように*見える*か、それと*意味論*を説明という流れになっています。述語という素晴らしい言葉にどんな*意味*が含まれているか理解できるでしょう。

[1]:この章の内容を理解していれば、すなわち SMT の "S", "M", "T" が何を意味しているかわかっている。または QF-UFLIA (つまり、quantifier free theory of linear arithmetic と uninterpreted functions) が何を意味するか理解しているというという場合は、この章を飛ばして次の章を読みましょう。

## Syntax
*論理的述語*という言葉では非形式的になってしまうため、Haskell の*制限した*サブセットで Boolean valued term を記述します。特に、この式は*定数*、*式*、*述語*で構成される以下の文法に沿っています。

**定数** `c` は数字のどれか1つです。

    c := 0, 1, 2, ...
    
[2]:コードの := は ".. は .. と定義される" と読むと良いです。
    
**変数** `v` は `x`, `y`, `z` などのどれか１つで、これらはプログラムコードで束縛 (の値) を参照する。

    v := x, y, z, ...

**式** `e` は以下の形式のどれか1つです。式は変数の線形算術式と定数と未解釈関数適用 (uninterpreted function applications) をとして構成されます。

     e := v                   -- variable
       | c                   -- constant
       | e + e               -- addition
       | e - e               -- subtraction
       | c * e               -- linear multiply
       | v e1 e2 ... en      -- uninterpreted function application
       
**式の例** を以下に示します。

- `x + y - z`
- `2 * x`
- `1 + size x`

**関係** は通常の (算術) 演算子のどれか1つです。

    r := ==               -- equality
       | /=               -- disequality
       | >=               -- greater than or equal
       | <=               -- less than or equal
       | >                -- greater than
       | <                -- less than

**述語** は２つの式を比較して得られる原子述語、引数のリストへの述語関数の適用、演算子 `&&` (かつ), `||` (または), `==>` (ならば[3]), `<=>` (iff[4]), `not` を使った関係述語の Bool コンビネーションのどれか。

    p := true
       | false
       | e r e           -- atomic binary relation
       | v e1 e2 ... en  -- predicate application
       | p  && p         -- and
       | p  || p         -- or
       | p ==> p         -- implies
       | p <=> p         -- if and only if
       | not p           -- negation

[3]: `p ==> q` は "`p` ならば `q`" と読む

[4]: `p <=> q` は "`p` ならば `q` **かつ** `q` ならば `p`" と読む

**述語の例** を以下に示します。

- `x + y <= 3`
- `null x`
- `x < 10 ==> y < 10 ==> x + y < 20`
- `0 < x + y <=> 0 < y + x`

## Semantics
